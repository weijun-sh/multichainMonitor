(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[531],{34687:function(w){w.exports={container:"container___1sYa-",lang:"lang___l6cji",content:"content___2zk1-",icon:"icon___rzGKO"}},32384:function(){},3178:function(){},56507:function(w,q,e){"use strict";e.r(q),e.d(q,{default:function(){return ma}});var Fa=e(18106),K=e(51752),Ea=e(34792),W=e(48086),$=e(11849),G=e(3182),_=e(2824),Ma=e(38663),Sa=e(3178),z=e(22122),V=e(96156),U=e(28481),a=e(67294),fe=e(54549),me=e(15873),ge=e(57119),he=e(68628),pe=e(73218),ye=e(38819),Ce=e(68855),Ze=e(40847),xe=e(43061),Fe=e(63441),Ee=e(94184),J=e.n(Ee),Me=e(86032),Se=e(5467),Ne=e(6610),Pe=e(5991),je=e(10379),Le=e(44144),Ie=function(t){(0,je.Z)(s,t);var n=(0,Le.Z)(s);function s(){var l;return(0,Ne.Z)(this,s),l=n.apply(this,arguments),l.state={error:void 0,info:{componentStack:""}},l}return(0,Pe.Z)(s,[{key:"componentDidCatch",value:function(i,Z){this.setState({error:i,info:Z})}},{key:"render",value:function(){var i=this.props,Z=i.message,x=i.description,M=i.children,u=this.state,j=u.error,S=u.info,T=S&&S.componentStack?S.componentStack:null,C=typeof Z=="undefined"?(j||"").toString():Z,h=typeof x=="undefined"?T:x;return j?a.createElement(ae,{type:"error",message:C,description:a.createElement("pre",null,h)}):M}}]),s}(a.Component),Oe=e(96159),Te=function(t,n){var s={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&n.indexOf(l)<0&&(s[l]=t[l]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,l=Object.getOwnPropertySymbols(t);i<l.length;i++)n.indexOf(l[i])<0&&Object.prototype.propertyIsEnumerable.call(t,l[i])&&(s[l[i]]=t[l[i]]);return s},Be={success:ye.Z,info:Ze.Z,error:xe.Z,warning:Ce.Z},be={success:me.Z,info:he.Z,error:pe.Z,warning:ge.Z},ee=function(n){var s,l=n.description,i=n.prefixCls,Z=n.message,x=n.banner,M=n.className,u=M===void 0?"":M,j=n.style,S=n.onMouseEnter,T=n.onMouseLeave,C=n.onClick,h=n.afterClose,b=n.showIcon,D=n.closable,N=n.closeText,g=n.closeIcon,v=g===void 0?a.createElement(fe.Z,null):g,f=n.action,d=Te(n,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),p=a.useState(!1),c=(0,U.Z)(p,2),y=c[0],L=c[1],B=a.useRef(),m=a.useContext(Me.E_),E=m.getPrefixCls,ue=m.direction,o=E("alert",i),ga=function(P){var H;L(!0),(H=d.onClose)===null||H===void 0||H.call(d,P)},ha=function(){var P=d.type;return P!==void 0?P:x?"warning":"info"},pa=N?!0:D,de=ha(),ya=function(){var P=d.icon,H=(l?be:Be)[de]||null;return P?(0,Oe.wm)(P,a.createElement("span",{className:"".concat(o,"-icon")},P),function(){return{className:J()("".concat(o,"-icon"),(0,V.Z)({},P.props.className,P.props.className))}}):a.createElement(H,{className:"".concat(o,"-icon")})},Ca=function(){return pa?a.createElement("button",{type:"button",onClick:ga,className:"".concat(o,"-close-icon"),tabIndex:0},N?a.createElement("span",{className:"".concat(o,"-close-text")},N):v):null},ve=x&&b===void 0?!0:b,Za=J()(o,"".concat(o,"-").concat(de),(s={},(0,V.Z)(s,"".concat(o,"-with-description"),!!l),(0,V.Z)(s,"".concat(o,"-no-icon"),!ve),(0,V.Z)(s,"".concat(o,"-banner"),!!x),(0,V.Z)(s,"".concat(o,"-rtl"),ue==="rtl"),s),u),xa=(0,Se.Z)(d);return a.createElement(Fe.Z,{visible:!y,motionName:"".concat(o,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(P){return{maxHeight:P.offsetHeight}},onLeaveEnd:h},function(R){var P=R.className,H=R.style;return a.createElement("div",(0,z.Z)({ref:B,"data-show":!y,className:J()(Za,P),style:(0,z.Z)((0,z.Z)({},j),H),onMouseEnter:S,onMouseLeave:T,onClick:C,role:"alert"},xa),ve?ya():null,a.createElement("div",{className:"".concat(o,"-content")},Z?a.createElement("div",{className:"".concat(o,"-message")},Z):null,l?a.createElement("div",{className:"".concat(o,"-description")},l):null),f?a.createElement("div",{className:"".concat(o,"-action")},f):null,Ca())})};ee.ErrorBoundary=Ie;var ae=ee,ze=e(94043),I=e.n(ze),O=e(28991),Ae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},De=Ae,te=e(27029),ne=function(n,s){return a.createElement(te.Z,(0,O.Z)((0,O.Z)({},n),{},{ref:s,icon:De}))};ne.displayName="LockOutlined";var re=a.forwardRef(ne),Re={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M744 62H280c-35.3 0-64 28.7-64 64v768c0 35.3 28.7 64 64 64h464c35.3 0 64-28.7 64-64V126c0-35.3-28.7-64-64-64zm-8 824H288V134h448v752zM472 784a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"mobile",theme:"outlined"},He=Re,se=function(n,s){return a.createElement(te.Z,(0,O.Z)((0,O.Z)({},n),{},{ref:s,icon:He}))};se.displayName="MobileOutlined";var $e=a.forwardRef(se),Ge=e(89366),Na=e(84305),Ve=e(3764),Q=e(81253),Ue=e(99180),Ye=e(54787),Pa=e(32384),Ke=["logo","message","contentStyle","title","subTitle","actions","children"];function We(t){var n=t.logo,s=t.message,l=t.contentStyle,i=t.title,Z=t.subTitle,x=t.actions,M=t.children,u=(0,Q.Z)(t,Ke),j=(0,Ye.YB)(),S=u.submitter===!1?!1:(0,O.Z)((0,O.Z)({searchConfig:{submitText:j.getMessage("loginForm.submitText","\u767B\u5F55")},submitButtonProps:{size:"large",style:{width:"100%"}}},u.submitter),{},{render:function(N,g){var v,f,d=g.pop();if((u==null||(v=u.submitter)===null||v===void 0?void 0:v.render)===void 0)return d;if(typeof(u==null||(f=u.submitter)===null||f===void 0?void 0:f.render)=="function"){var p,c;return u==null||(p=u.submitter)===null||p===void 0||(c=p.render)===null||c===void 0?void 0:c.call(p,N,g)}return d}}),T=(0,a.useContext)(Ve.ZP.ConfigContext),C=T.getPrefixCls("pro-form-login"),h=function(N){return"".concat(C,"-").concat(N)},b=(0,a.useMemo)(function(){return n?typeof n=="string"?a.createElement("img",{src:n}):n:null},[n]);return a.createElement("div",{className:h("container")},a.createElement("div",{className:h("top")},i||b?a.createElement("div",{className:h("header")},b?a.createElement("span",{className:h("logo")},b):null,i?a.createElement("span",{className:h("title")},i):null):null,Z?a.createElement("div",{className:h("desc")},Z):null),a.createElement("div",{className:h("main"),style:(0,O.Z)({width:328},l)},a.createElement(Ue.A,(0,z.Z)({isKeyPressSubmit:!0},u,{submitter:S}),s,M),x?a.createElement("div",{className:h("other")},x):null))}var ja=e(9715),Je=e(17681),La=e(57663),Qe=e(80226),Ia=e(47673),Xe=e(50817),ke=e(87757),Y=e.n(ke),le=e(92137),oe=e(37078),we=["rules","name","phoneName","fieldProps","captchaTextRender","captchaProps"],qe=a.forwardRef(function(t,n){var s=(0,a.useState)(t.countDown||60),l=(0,U.Z)(s,2),i=l[0],Z=l[1],x=(0,a.useState)(!1),M=(0,U.Z)(x,2),u=M[0],j=M[1],S=(0,a.useState)(),T=(0,U.Z)(S,2),C=T[0],h=T[1],b=t.rules,D=t.name,N=t.phoneName,g=t.fieldProps,v=t.captchaTextRender,f=v===void 0?function(y,L){return y?"".concat(L," \u79D2\u540E\u91CD\u65B0\u83B7\u53D6"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"}:v,d=t.captchaProps,p=(0,Q.Z)(t,we),c=function(){var y=(0,le.Z)(Y().mark(function L(B){return Y().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.prev=0,h(!0),E.next=4,p.onGetCaptcha(B);case 4:h(!1),j(!0),E.next=13;break;case 8:E.prev=8,E.t0=E.catch(0),j(!1),h(!1),console.log(E.t0);case 13:case"end":return E.stop()}},L,null,[[0,8]])}));return function(B){return y.apply(this,arguments)}}();return(0,a.useEffect)(function(){var y=0,L=t.countDown;return u&&(y=window.setInterval(function(){Z(function(B){return B<=1?(j(!1),clearInterval(y),L||60):B-1})},1e3)),function(){return clearInterval(y)}},[u]),a.createElement(Je.Z.Item,{noStyle:!0,shouldUpdate:!0},function(y){var L=y.getFieldValue,B=y.validateFields;return a.createElement("div",{style:(0,O.Z)((0,O.Z)({},g==null?void 0:g.style),{},{display:"flex",alignItems:"center"}),ref:n},a.createElement(Xe.Z,(0,z.Z)({},g,{style:{flex:1,transition:"width .3s",marginRight:8}})),a.createElement(Qe.Z,(0,z.Z)({style:{display:"block"},disabled:u,loading:C},d,{onClick:(0,le.Z)(Y().mark(function m(){var E;return Y().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,!N){o.next=9;break}return o.next=4,B([N].flat(1));case 4:return E=L([N].flat(1)),o.next=7,c(E);case 7:o.next=11;break;case 9:return o.next=11,c("");case 11:o.next=16;break;case 13:o.prev=13,o.t0=o.catch(0),console.log(o.t0);case 16:case"end":return o.stop()}},m,null,[[0,13]])}))}),f(u,i)))})}),_e=(0,oe.G)(qe),ea=_e,Oa=e(63185),aa=e(9676),ta=e(86840),na=e(22270),ra=["options","fieldProps","proFieldProps","valueEnum"],sa=a.forwardRef(function(t,n){var s=t.options,l=t.fieldProps,i=t.proFieldProps,Z=t.valueEnum,x=(0,Q.Z)(t,ra);return a.createElement(ta.Z,(0,z.Z)({ref:n,valueType:"checkbox",mode:"edit",valueEnum:(0,na.h)(Z,void 0),fieldProps:(0,O.Z)({options:s},l),proFieldProps:i},x))}),la=a.forwardRef(function(t,n){var s=t.fieldProps,l=t.children;return a.createElement(aa.Z,(0,z.Z)({ref:n},s),l)}),oa=(0,oe.G)(la,{valuePropName:"checked"}),ie=oa;ie.Group=sa;var ia=ie,X=e(5966),F=e(43581),ca=e(73631),ua=e(5029);function da(t,n){return k.apply(this,arguments)}function k(){return k=(0,G.Z)(I().mark(function t(n,s){return I().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,F.WY)("/api/login/captcha",(0,$.Z)({method:"GET",params:(0,$.Z)({},n)},s||{})));case 1:case"end":return i.stop()}},t)})),k.apply(this,arguments)}var va=e(34687),A=e.n(va),r=e(85893),ce=function(n){var s=n.content;return(0,r.jsx)(ae,{style:{marginBottom:24},message:s,type:"error",showIcon:!0})},fa=function(){var n=(0,a.useState)({}),s=(0,_.Z)(n,2),l=s[0],i=s[1],Z=(0,a.useState)("account"),x=(0,_.Z)(Z,2),M=x[0],u=x[1],j=(0,F.tT)("@@initialState"),S=j.initialState,T=j.setInitialState,C=(0,F.YB)(),h=function(){var g=(0,G.Z)(I().mark(function v(){var f,d;return I().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,S==null||(f=S.fetchUserInfo)===null||f===void 0?void 0:f.call(S);case 2:if(d=c.sent,!d){c.next=6;break}return c.next=6,T(function(y){return(0,$.Z)((0,$.Z)({},y),{},{currentUser:d})});case 6:case"end":return c.stop()}},v)}));return function(){return g.apply(this,arguments)}}(),b=function(){var g=(0,G.Z)(I().mark(function v(f){var d,p,c,y,L;return I().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.prev=0,m.next=3,(0,ua.x4)((0,$.Z)((0,$.Z)({},f),{},{type:M}));case 3:if(d=m.sent,d.status!=="ok"){m.next=15;break}return p=C.formatMessage({id:"pages.login.success",defaultMessage:"\u767B\u5F55\u6210\u529F\uFF01"}),W.default.success(p),m.next=9,h();case 9:if(F.m8){m.next=11;break}return m.abrupt("return");case 11:return c=F.m8.location.query,y=c.redirect,F.m8.push(y||"/"),m.abrupt("return");case 15:console.log(d),i(d),m.next=23;break;case 19:m.prev=19,m.t0=m.catch(0),L=C.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),W.default.error(L);case 23:case"end":return m.stop()}},v,null,[[0,19]])}));return function(f){return g.apply(this,arguments)}}(),D=l.status,N=l.type;return(0,r.jsxs)("div",{className:A().container,children:[(0,r.jsx)("div",{className:A().lang,"data-lang":!0,children:F.pD&&(0,r.jsx)(F.pD,{})}),(0,r.jsx)("div",{className:A().content,children:(0,r.jsxs)(We,{logo:(0,r.jsx)("img",{alt:"logo",src:"https://multichain.org/favicon.ico"}),title:"Multichain \u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF",subTitle:C.formatMessage({id:"pages.layouts.userLayout.title"}),initialValues:{autoLogin:!0},onFinish:function(){var g=(0,G.Z)(I().mark(function v(f){return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,b(f);case 2:case"end":return p.stop()}},v)}));return function(v){return g.apply(this,arguments)}}(),children:[(0,r.jsxs)(K.Z,{activeKey:M,onChange:u,children:[(0,r.jsx)(K.Z.TabPane,{tab:C.formatMessage({id:"pages.login.accountLogin.tab",defaultMessage:"\u8D26\u6237\u5BC6\u7801\u767B\u5F55"})},"account"),(0,r.jsx)(K.Z.TabPane,{tab:C.formatMessage({id:"pages.login.phoneLogin.tab",defaultMessage:"\u624B\u673A\u53F7\u767B\u5F55"})},"mobile")]}),D==="error"&&N==="account"&&(0,r.jsx)(ce,{content:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF(admin/admin)"}),M==="account"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(X.Z,{name:"username",fieldProps:{size:"large",prefix:(0,r.jsx)(Ge.Z,{className:A().prefixIcon})},placeholder:"admin",rules:[{required:!0,message:(0,r.jsx)(F._H,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),(0,r.jsx)(X.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,r.jsx)(re,{className:A().prefixIcon})},placeholder:"admin",rules:[{required:!0,message:(0,r.jsx)(F._H,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]}),D==="error"&&N==="mobile"&&(0,r.jsx)(ce,{content:"\u9A8C\u8BC1\u7801\u9519\u8BEF"}),M==="mobile"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(X.Z,{fieldProps:{size:"large",prefix:(0,r.jsx)($e,{className:A().prefixIcon})},name:"mobile",placeholder:C.formatMessage({id:"pages.login.phoneNumber.placeholder",defaultMessage:"\u624B\u673A\u53F7"}),rules:[{required:!0,message:(0,r.jsx)(F._H,{id:"pages.login.phoneNumber.required",defaultMessage:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\uFF01"})},{pattern:/^1\d{10}$/,message:(0,r.jsx)(F._H,{id:"pages.login.phoneNumber.invalid",defaultMessage:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF\uFF01"})}]}),(0,r.jsx)(ea,{fieldProps:{size:"large",prefix:(0,r.jsx)(re,{className:A().prefixIcon})},captchaProps:{size:"large"},placeholder:C.formatMessage({id:"pages.login.captcha.placeholder",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}),captchaTextRender:function(v,f){return v?"".concat(f," ").concat(C.formatMessage({id:"pages.getCaptchaSecondText",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})):C.formatMessage({id:"pages.login.phoneLogin.getVerificationCode",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})},name:"captcha",rules:[{required:!0,message:(0,r.jsx)(F._H,{id:"pages.login.captcha.required",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"})}],onGetCaptcha:function(){var g=(0,G.Z)(I().mark(function v(f){var d;return I().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,da({phone:f});case 2:if(d=c.sent,d!==!1){c.next=5;break}return c.abrupt("return");case 5:W.default.success("\u83B7\u53D6\u9A8C\u8BC1\u7801\u6210\u529F\uFF01\u9A8C\u8BC1\u7801\u4E3A\uFF1A1234");case 6:case"end":return c.stop()}},v)}));return function(v){return g.apply(this,arguments)}}()})]}),(0,r.jsxs)("div",{style:{marginBottom:24},children:[(0,r.jsx)(ia,{noStyle:!0,name:"autoLogin",children:(0,r.jsx)(F._H,{id:"pages.login.rememberMe",defaultMessage:"\u81EA\u52A8\u767B\u5F55"})}),(0,r.jsx)("a",{style:{float:"right"},children:(0,r.jsx)(F._H,{id:"pages.login.forgotPassword",defaultMessage:"\u5FD8\u8BB0\u5BC6\u7801"})})]})]})}),(0,r.jsx)(ca.Z,{})]})},ma=fa}}]);
